<!DOCTYPE HTML>
<html>
<head>

  <!-- ************* Meta ************* -->
  <title>Reporting Bugs · Releases · N4JS Language and IDE</title>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  
  <!-- ************* OpenGraph ************-->
  <meta name="description" content="The N4JS language and its IDE enable high-quality JavaScript development for large Node.js projects.">
  
  <meta property="og:site_name" content="N4JS"/>
  <meta property="og:title" content="N4JS Language and IDE"/>
  <meta property="og:url" content="https://numberfour.github.io/n4js"/>
  <meta property="og:description" content="The N4JS language and its IDE enable high-quality JavaScript development for large Node.js projects."/>
  <meta property="og:image" content="../imgs/n4js.png">
  
  <!-- ************* Favicon ************-->
  <link rel="icon" href="../imgs/favicon.ico" />
  <link rel="icon" type="image/png" href="../imgs/favicon-32x32.png" sizes="32x32" />
  <link rel="icon" type="image/png" href="../imgs/favicon-16x16.png" sizes="16x16" />  
  <!-- ************* Styles ************* -->
  <link type="text/css" rel="stylesheet" href="//fast.fonts.net/cssapi/20974f8a-0939-4574-aef9-681eda2faca8.css"/>
  <link rel="stylesheet" type="text/css" href="../styles/styles.min.d5155a35.css">


  <!-- ****************** Scripts ****************** -->
  <script type="text/javascript" src="../scripts/scripts-legacy.6f2064d5.js"></script>
</head>

<body>
  <header class="Grid">
    <div class="Cell Cell--4-12">
      <a href="../"><img src="../imgs/n4js-logo.png" alt="N4JS Language and IDE"></a>
    </div>

    <div class="Cell Cell--8-12">
      <nav>
         <a href="../#getting-started">Getting Started</a> ·
         <a href="../features">Features</a> ·
         <a href="../releases" class="is-active">Releases</a> ·
         <a href="../userguide">User-Guide</a> ·
         <a href="../faq" >FAQ</a>
      </nav>
    </div>
  </header>

  <div class="Main">
    <nav class="Nav--top">
      <h2>Releases</h2>
      <ul>
          <li><a href="../releases" >Release Notes</a></li>
          <li><a href="reporting-bugs.html" class="is-active">Reporting Bugs</a></li>
      </ul>
    </nav>
    <article class="Article--noGrid">

<h1>Reporting Bugs</h1>

<p><b>We embrace bug reports and feature requests!</b></p>


<p>For the moment, we use <a href="https://github.com/numberfour/n4js/issues">GitHub issues</a> to manage issues found by users. We will soon migrate our current, internal list of bugs there. We greatly appreciate all bug reports and are thankful for our users taking the time to submit them!
</p>
<p>
If you like, you can try out a novel test technology called <a href="http://www.xpect-tests.org/">Xpect</a> that was designed for writing tests for domain-specific languages. We have integrated this test technology directly into the N4JS IDE and is described in detail in the following section.
</p>

<h3>Write Bug Reports with Xpect</h3>
<p>With Xpect you can write concise bug reports and feature requests using N4JS and comments. What is a bug? A bug usually is a programming error that leads to unexpected behavior. What is a feature? A feature is a functionality provided by a system with a well-defined, i.e. expected, behavior. In other words: Bug reports and feature requests both have to describe the <b>expected</b> behavior. Instead of long-winded explanations disconnected from the code, it's easier to just add your <b>expectations</b> side-by-side with your code.
</p>
<p>The following screenshot shows a typical feature request (on the left-hand side) written with Xpect:
</p>

<div class="Image">
  <a href="fig/xpect_feature_request.png"><img src= "fig/xpect_feature_request.png"  ></a>
</div>

<p>The great thing about Xpect is that it actually defines a test. The feature request (or bug report) can actually be executed. This is possible within the N4JS IDE and the result is shown on the right-hand side of the screenshot. In order to use Xpect;</p>

<ol>
  <li>Create a new file with extension "n4js.xt" ("xt" will activate Xpect).</li>
  <li>Write the bug report or feature request, using comments and the keyword "XPECT" together with a known expectation type (see below).</li>
  <li>Run the Xpect test from the context menu ("Run As.../Xpect run").</li>
</ol>

<p><b>Instead of writing long explanations, simply file the n4js.xt-file as bug report including a brief description.</b></p>

<p>In the screenshot above, the file does not contain any error markers; your expectation is already taken into account during validation which will improve the readability of the bug report. As we can see, the Xpect test failed! In order to make things easier for the developer fixing the bug, you can add an additional keyword "FIXME" to expectations you have but which are not fulfilled. This makes it very helpful to easily identify what is expected and what is correct behavior in longer reports with several expectations. When running the test again with the "FIXME" annotation, it will succeed as shown in the following screenshot:</p>

<div class="Image">
  <a href="fig/xpect_fixme.png"><img src= "fig/xpect_fixme.png"  ></a>
</div>


<p><b>Bug reporting will be improved in future releases!</b></p>

<p>In future releases, we will improve the Xpect support and simplify writing bug reports. In particular, we will provide content assist and/or wizards for adding certain types of expectations. </p>

<p>In general, expectations are written inside comments preceding the line in the code which demonstrates the (un-)expected behavior, according to the following pattern:</p>

<div class="Example"><pre name="code" class="n4js:nocontrols:nogutter">// «remark» XPECT «type» FIXME --&gt; «expectation» at «location»
</pre></div>

<ol>
  <li>remark: This is optional and can be omitted.</li>
  <li>type: The type of the expectation is one of the types described in the table below.</li>
  <li>keyword "FIXME": This is optional and is used to indicate currently missing or unexpected behavior.</li>
  <li>expectation: This is optional, usually used for the expected issue message, or value; concrete semantic depends on the expectation type.</li>
  <li>location: Used to further indicate the location of the problem, usually just the next line is assumed. The location has to be prefixed with "at" in most cases.</li>
</ol>

<p>The expectations are usually written on a single line. In cases where a single code line contains several issues, multi-line comments are to be used:</p>

<div class="Example"><pre name="code" class="n4js:nocontrols:nogutter">/* «remark» XPECT «type» ---
"expectation1" at "location1"
"expectation2" at "location2"
...
--- */
</pre></div>

<p>Depending on the type of the expectation, the syntax may be a little bit different. The following table summarizes the known types along with an example snippet to illustrate the syntax.</p>

<div class="ExampleExplanation">

  <div class="ExampleExplanation-text">

    <h3>errors</h3>

    <p>Probably the most often used expectation type, indicates a validation error to be issued.</p>
  </div>

  <div class="ExampleExplanation-code">
<div class="Example"><pre name="code" class="n4js:nocontrols:nogutter">    // XPECT errors FIXME --&gt; "float literal assigned to int"
    var i: int = 5.5;
</pre></div>
  </div>
</div>

<div class="ExampleExplanation">

  <div class="ExampleExplanation-text">

    <h3>warnings</h3>

    <p>Similar to "errors", indicates a validation warning to be issued.</p>
  </div>

  <div class="ExampleExplanation-code">
<div class="Example"><pre name="code" class="n4js:nocontrols:nogutter">    // XPECT warnings FIXME --&gt; "float literal assigned to int"
    var i: int = 5.5;
</pre></div>
  </div>
</div>

<div class="ExampleExplanation">

  <div class="ExampleExplanation-text">

    <h3>noerrors</h3>

    <p>See example above, used if no error is expected.</p>
  </div>

  <div class="ExampleExplanation-code">
<div class="Example"><pre name="code" class="n4js:nocontrols:nogutter">    var a: A;
    if (o instanceof A) {
      // I want type guards XPECT noerrors FIXME --&gt;
      a = o;
    }
</pre></div>
  </div>
</div>



    <p>More expectation types will become available in future versions.</p>

    
        </article>
    
      </div>
    
      <footer class="Grid">
        <div class="Cell Cell--12-12">
          <a href="http://www.numberfour.eu" target="_blank">NumberFour AG</a> · <a href="https://twitter.com/n4jsdev" target="_blank">Twitter</a>
    
          <a href="../#getting-started" class="Link--action">Get the N4JS IDE now!</a>
        </div>
      </footer>
      <script>
        dp.SyntaxHighlighter.HighlightAll('code');
      </script>
    
    <!-- n4js-webpage build web.production (Mon Mar 14 2016 17:39:03 GMT+0100 (CET)) -->
    </body>
    </html>
