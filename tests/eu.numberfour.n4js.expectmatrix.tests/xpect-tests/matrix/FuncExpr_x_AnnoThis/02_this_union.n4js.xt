/* XPECT_SETUP eu.numberfour.n4js.expectmatrix.tests.N4JSExpectMatrixPendingTest END_SETUP  */

//////////////////////////////////
// union{} as argument of @This //
//////////////////////////////////

class A {
	log() : string { return "A was logged"; }
}
class B {
	log() : string { return "B was logged"; }
} 
class C {
	log() : string { return "C was logged"; }
} 

// IDE-2313
var logger = @This(union{A,B}) function () { console.log("~" + this.log() + "~"); }

var a : A = new A();
var b : B = new B();
var c : C = new C();

logger.call(a);
logger.call(b);
logger.call(c);

// IDE-1010, IDE-2313
/* XPECT output ---
<==
stdout:
~A was logged~
~B was logged~
~C was logged~
stderr:
==>
--- */
