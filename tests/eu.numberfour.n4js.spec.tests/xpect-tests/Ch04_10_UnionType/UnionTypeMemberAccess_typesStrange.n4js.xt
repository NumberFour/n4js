/* XPECT_SETUP eu.numberfour.n4js.spec.tests.N4JSSpecTest END_SETUP */

class A {
	instField: string;
    static staticField: string;
    static get staticGetter() { return null; }
    static set staticSetter(s:string) {}
}

// works fine:

var ctor: constructor{A};

// Basic tests:
// XPECT noerrors -->
ctor.staticField;
// XPECT noerrors -->
ctor.staticGetter;
// XPECT noerrors -->
ctor.staticSetter = "";
// XPECT errors -->"The accessor staticGetter is read-only." at "staticGetter"
ctor.staticGetter = "";
// XPECT errors -->"The accessor staticSetter is write-only." at "staticSetter"
ctor.staticSetter;


// Union with structural type and constructor

var ctorUnion: constructor{A} | ~Object with { staticField:string; staticGetter:any }
// XPECT noerrors --> 
ctorUnion.staticField;
// XPECT noerrors -->
ctorUnion.staticGetter;

// XPECT errors -->"Union combines fields and getters with name staticGetter and therefore property staticGetter is read-only." at "staticGetter"
ctorUnion.staticGetter = "";
// XPECT errors -->"Couldn't resolve reference to IdentifiableElement 'instField'." at "instField"
ctorUnion.instField;

// XPECT errors -->"Couldn't resolve reference to IdentifiableElement 'constructor'."
ctorUnion.constructor;

// Union with structural type and classifier

var classifierUnion: type{A} | ~Object with { staticField:string; staticGetter:any }
// XPECT noerrors --> 
classifierUnion.staticField;
// XPECT noerrors -->
classifierUnion.staticGetter;

// XPECT errors -->"Union combines fields and getters with name staticGetter and therefore property staticGetter is read-only." at "staticGetter"
classifierUnion.staticGetter = "";
// XPECT errors -->"Couldn't resolve reference to IdentifiableElement 'instField'." at "instField"
classifierUnion.instField;

// XPECT errors -->"Member constructor not present in all types of union; missing from: type{A}." at "constructor"
classifierUnion.constructor;
