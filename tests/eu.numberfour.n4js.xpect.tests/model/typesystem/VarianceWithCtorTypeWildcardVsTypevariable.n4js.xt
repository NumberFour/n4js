/* XPECT_SETUP eu.numberfour.n4js.tests.N4JSXpectTest END_SETUP  */

// type{X} or ctor{? extends/super X} is comparable to an covariant generic type:
// ctor{X} is invariant, as in this case the constructor signature is taken into account as well
class Type<out X> {}

class H<out T> {
	// XPECT noerrors -->
    ret_ext_ctor():constructor{? extends T} {return null;}
	// XPECT noerrors -->
    ret_ext_gen():Type<? extends T> {return null;}

	// XPECT noerrors -->
    ret_sup_ctor():constructor{? super T} {return null;}
	/* TODO mor: several errors? XPECT errors ---
		"Cannot use covariant (out) type variable at contravariant position." at "T"
		"Cannot use wildcard with lower bound as argument to a covariant (out) type parameter." at "? super T"
	--- */
    ret_sup_gen():Type<? super T> {return null;}

	// XPECT errors --> "Cannot use covariant (out) type variable at invariant position." at "T"
    ret_ctor():constructor{T} {return null;}
	// TODO mor: I would expect an error here XPECT noerrors -->
    ret_gen():Type<T> {return null;}
	// XPECT noerrors -->
    ret_type():type{T} {return null;}
    
	// XPECT errors --> "Cannot use covariant (out) type variable at contravariant position." at "T"
    par_ext_ctor(ctor: constructor{? extends T}) {}
	// XPECT errors --> "Cannot use covariant (out) type variable at contravariant position." at "T"
    par_ext_gen(ctor: Type<? extends T>) {}

	// XPECT errors -->"Cannot use covariant (out) type variable at contravariant position." at "T"
    par_super_ctor(ctor: constructor{? super T}) {}
	// XPECT errors --> "Cannot use wildcard with lower bound as argument to a covariant (out) type parameter." at "? super T"
    par_super_gen(ctor: Type<? super T>) {}

	// XPECT errors --> "Cannot use covariant (out) type variable at invariant position." at "T"
    par_ctor(ctor: constructor{T}) {}
	// XPECT errors --> "Cannot use covariant (out) type variable at contravariant position." at "T"
    par_gen(ctor: Type<T>) {}
    // XPECT errors --> "Cannot use covariant (out) type variable at contravariant position." at "T"
    par_type(ctor: type{T}) {}

    
}
